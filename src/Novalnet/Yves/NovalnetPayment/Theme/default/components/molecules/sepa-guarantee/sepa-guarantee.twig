{% extends model('component') %}

{% define config = {
    name: 'sepa-guarantee',
    tag: 'sepa-guarantee'
} %}

{% define data = {
    form: required,
} %}

{% block body %}
    <script src="https://cdn.novalnet.de/js/v2/NovalnetUtility.js"></script>

    <div class="payment-method">
       <p>{{ 'novalnet.sepa-payment-description' | trans }}</p>
       <label>{{ 'novalnet.sepa-iban' | trans }}</label>
       <div class="field">
            {{ form_widget(data.form.novalnetSepaGuarantee.iban, {'attr': { 'style': 'text-transform: uppercase;', 'autocomplete': 'off' }}) }}
            {{ form_errors(data.form.novalnetSepaGuarantee.iban) }}
        </div>
        <div id="nn_sepa_guarantee_bic" style="display:none">
            <label>{{ 'novalnet.sepa-bic' | trans }}</label>
            {{ form_widget(data.form.novalnetSepaGuarantee.bic, {'attr': { 'style': 'text-transform: uppercase;', 'autocomplete': 'off' }}) }}
            {{ form_errors(data.form.novalnetSepaGuarantee.bic) }}
        </div>
        <div>
            <label>{{ 'novalnet.guarantee-payment-dob' | trans }}</label>
            {{ form_widget(data.form.novalnetSepaGuarantee.dob, { 'attr': { 'placeholder': 'novalnet.guarantee-birth_date' | trans } }) }}
        </div>
        <input type="hidden" id="birthdate_missing" value="{{ 'novalnet.guarantee-bithdate-missing' | trans }}">
        <input type="hidden" id="birthdate_invalid" value="{{ 'novalnet.guarantee-bithdate-invalid' | trans }}">
        <input type="hidden" id="sepa_guarantee_iban_invalid" value="{{ 'novalnet.sepa-iban-invalid' | trans }}">
        <input type="hidden" id="sepa_guarantee_bic_invalid" value="{{ 'novalnet.sepa-bic-invalid' | trans }}">
    </div>
{% endblock %}
